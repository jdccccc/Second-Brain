- Cortex-M3 模式
	- 处理器handler模式
	- 线程thread模式
- 模式转换——P16
	- `模式转换涉及的寄存器？`
	- 图2-11
- 通用寄存器
	- R0~R7 低组寄存器
	- R8~R12 高组寄存器
	- 16位只能用低组，32位thumb-2可以访问所有通用寄存器
	- R13是堆栈指针：
		- MSP——用于处理器或线程模式
		- PSP——只用于线程模式
		- 并且push和pop指令使用的是当前默认的堆栈
		- 另一个堆栈要使用MSR和MRS指令
	- R14连接寄存器
		- 调用子程序时存储返回地址（BL调用子程序，BX LR 返回）
	- 字word是16bit
	- 字长是机器字长，也就是通用寄存器的长度
	- R15程序计数器，读PC的值是当前指令地址+4
- CM3地址空间分配

- 大小端存储
	- 数位权值高存在高地址，数位权值低存在低地址——小端
	- 大端和小端相反

- CM3中断
	- 11个系统异常
	- 最多240个外部中断

- stm32中断。参考书二4.2
- ARM寻址方式

![[ARM寻址方式]]
- 堆栈
![[ARM堆栈操作多地址]]
- 指令
![[Cortex指令集]]
![[互斥访问指令]]
![[伪指令]]
![[技术库/单片机/ARM/Cortex-M3/CM3特殊功能寄存器]]
- 模式转换等
- cm3复位序列
- 中断咬尾
- 位带操作

- GPIO输入输出模式
![[STM32输入输出类型]]
- GPIO的7个寄存器功能
![[GPIO寄存器]]
- GPIO和AFIO使用的配置步骤
- stm32f10系列的系统时钟
- STM32定时器功能
   定时器最基本的功能是定时：
   - 定时发送USART数据
   - 定时采集AD数据等等
   如果把定时器与GPIO结合起来使用可以实现非常丰富的功能：
   - 测量输入信号的脉冲宽度
   - 生产输出波形
- STM32通用定时器的独立通道功能 
	- 输入捕获
	- 输出比较
	- PWM 生成(边缘或中间对齐模式) 
	- 单脉冲模式输出
- 通用定时器产生PWM相关寄存器及其计算
- 用定时器进行PWM输出配置过程
```C
① 使能定时器3和相关IO口时钟。

 使能定时器3时钟：RCC_APB1PeriphClockCmd();

 使能GPIOB时钟：RCC_APB2PeriphClockCmd();

② 初始化IO口为复用功能输出。函数：GPIO_Init();

 GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP; 

③这里我们是要把PB5用作定时器的PWM输出引脚，所以要重映射配置，

 所以需要开启AFIO时钟。同时设置重映射。

 RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO,ENABLE);

 GPIO_PinRemapConfig(GPIO_PartialRemap_TIM3, ENABLE);

④ 初始化定时器：ARR,PSC等：TIM_TimeBaseInit();

⑤ 初始化输出比较参数:TIM_OC2Init();

⑥ 使能预装载寄存器： TIM_OC2PreloadConfig(TIM3, TIM_OCPreload_Enable);

⑦ 使能定时器。TIM_Cmd();

⑧ 不断改变比较值CCRx，达到不同的占空比效果:TIM_SetCompare2();
```
- RS232异步通信协议
	- RS232标准串口主要用于工业设备直接通信
	- 电平转换芯片一般有MAX3232，SP3232
- STM32低功耗模式

四个示例工程的代码：按键库函数法、单个按键中断库函数法、串口通信库函数法、定时器库函数法。要求了解：数据结构、函数功能、操作步骤。能注解任一语句。

期中试卷。
