---
title: 二进制
categories: 
  - Theory
  - 数字电路与逻辑设计
  - 《数字设计和计算机体系结构》
tags:
  - 数字电路
  - 计算机系统结构

---

# 控制复杂性的艺术

## 抽象（Abstraction）

![image-20220610155907247](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101601796.png)



## 约束（Discipline）

约束是对设计选择的一种内在限制，通过这种限制可以更有效地在更高的抽象层次上工作。

数字电路是模拟电路的子集。

通过数字电路的约束规则，我们很容易将组件组合成复杂的系统，而且这种数字系统在很多应用上都远远优于模拟组件组成的系统。

## 三Y原则

- 层次化（hierarchy）

  将系统划分为若干模块，然后更进一步划分每个模块直到这些模块可以容易理解；

- 模块化（modularity）

  所有模块有定义好的功能和接口，以便于他们之间可以更容易地相互连接而不会产生意想不到的副作用；

- 规整化（regularity）

  在模块之间寻求一致，通用模块可以重复使用多次，以便减少设计不同模块的数量。

  补：regularity有正规化、常规化的意思，就是指模块的功能和接口定义出来后最好能够具有更大的通用性和适用范围，或便于大规模生产。



# 数字抽象（The Digital Abstraction）

数字系统使用**离散值变量（discrete-valued variable）**——变量是有限数目的不同离散值。

一个由N个不同状态的离散值变量的信息量D由位（bit）度量
$$
D=log_2N位
$$
**布尔逻辑**——针对二进制变量进行逻辑操作的系统，‘1’表示HIGH/TRUE，‘0’表示LOW/FALSE



# （进位）数制（Number System）

**基数**：计数制中所用到的数字符号的个数。

**位权**：指在一种进位计数制表示的数中，用来表明不同数位上数值大小的一个固定常数。

**进位表示法**：对于R进制，逢R进一

![image-20220610162948466](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101629564.png)



## 十进制（Decimal）转二进制

![image-20220610163432005](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101634086.png)



## 二进制（Binary）转十进制

![image-20220610163451524](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101634596.png)



## 二到八或十六进制（Hexadecimal）的转换

![image-20220610163713211](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101637273.png)

![image-20220610163843135](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101638184.png)



## 字节、半字节、全字

- byte——8位一组
- nibble——4位一组
- word——取决于微处理器的结构（寄存器的位数）
- 最低有效位（least significant bit/lsb）——在一组位中，权为1的位
- 最高有效位（most significant bit/msb）——处于另一端的位
- 最低有效字节/最高有效字节(LSB/MSB)

$$
2^{10}=1024\approx 1000=10^3
$$

![image-20220610164704374](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101647449.png)



## 二进制加法

![image-20220610165629302](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101656336.png)

进位carry bit——进位到相邻列的位

数字系统常对固定长度的数字进行操作。如果加法的结果太大，超出了数字的表示范围，那么将产生**溢出**（overflow）。

可以通过检查**最高一列是否有进位**来判断是否溢出。



## 有符号的二进制数

![image-20220610170716322](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101707407.png)

### 原码=符号位+真值绝对值

![image-20220610170823209](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101708268.png)

缺点：

- 二进制加法（减法）无法在原码下实现
- 0有两种表示方法，可能会造成麻烦

### 反码

符号位与原码相同

数值部分：

- 若符号位为0，正数的反码是正数本身，与原码形式相同
- 若符号位为1,数值部分由原码的数值部分按位取反得到

![image-20220610171339817](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101713882.png)

- 反码依旧没有解决原码的问题

### 补码

二进制补码的最高位的权为$-2^{n-1}$，其他位的表示方法与无符号二进制数相同。

- 克服了带符号的原码格式中0有两种表示方法的缺点，即二进制补码中，0只有一种表示方法
- 二进制补码能够实现二进制加法

![image-20220610172028616](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101720677.png)

- 符号位与原码相同
- 负数的补码的符号位为1,数值位为其反码的末位加1
- 减法是将第二个操作数改变符号后求取补码，然后与第一个操作数相加来完成

- 表示范围
  $$
  [-2^{n-1},2^{n-1}-1]
  $$

- 4位补码表示范围[-8，7]
- 怪异数（weird number）$-2^{n-1}$,没有与之对应的正数
- 在二进制补码加法中，判定溢出的条件是：如果相加两个数的符号相同且结果的符号与被加数的符号相反，则表示发生溢出
- **符号扩展**：当二进制补码扩展到更多位数时，需要将符号位复制到所有的扩展高位中。

## 数制的比较

![image-20220610174108184](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206101741236.png)





# 逻辑门

逻辑门（logic gate）是最简单的数字电路，它们可以接受一个或多个二进制输入并产生一个二进制输出。

- 输入通常画在左边（或者上部）
- 输出通常画在右边（或者下部）
- 通常使用字母表开始部分的字母表示门的输入，用Y表示门的输出
- 输入和输出之间的关系由真值表或布尔表达式描述
  - 真值表的左边列出输入
  - 右边列出对应的输出
  - 每种可能的输入组合对应一行



## 基本逻辑门

![image-20220611082519507](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110825562.png)

![image-20220611082545837](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110825868.png)

![image-20220611082604612](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110826641.png)

![image-20220611082713342](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110827371.png)

![image-20220611082728938](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110827972.png)

<!--N输入异或门有时也称奇偶校验门（parity）-->

当有奇数个输入为TRUE时才输出为TRUE

## 多输入逻辑门

![image-20220611083228515](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110832550.png)

![image-20220611083236554](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110832593.png)



# 数字抽象之下

> Beneath the Digital Abstraction 

## 电源电压

通常，系统中

- 最低电压为0V，称为地（GND）
- 最高电压来自电源，常称$V_{DD}$



## 逻辑电平

通过定义逻辑电平可以将连续变量映射到离散的二进制变量

![image-20220611084144845](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110841885.png)



## 噪声容限（noise margin）

可以加在最坏情况输出上但依然能正确解释为有效输入的噪声值

![image-20220611084747204](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110847236.png)



## 直流电压传输特性

描述了当输入电压变化足够慢且保证输出能跟上输入的变化时，输出电压随输入电压变化的函数关系。这个函数成为传输特性（Transfer Characteristics）

![image-20220611085609055](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110856108.png)

Choosing logic levels at the unity gain point usually maximizes the noise margins.

## 静态约束

逻辑门可以按照逻辑系列（logic family）来区分，同一系列的所有门都遵循相同的静态约束，即使用相同的电源电压和逻辑电平。

![image-20220611090502448](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110905492.png)

![image-20220611090659147](https://cdn.jsdelivr.net/gh/jdccccc/PictureBed/img/202206110906192.png)
